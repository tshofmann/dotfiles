# ============================================================
# kitty.conf - Kitty Terminal Konfiguration
# ============================================================
# Zweck       : GPU-beschleunigtes Terminal mit Image-Support
# Pfad        : ~/.config/kitty/kitty.conf
# Docs        : https://sw.kovidgoyal.net/kitty/conf/
# Reload      : Ctrl+Shift+F5 oder kill -SIGUSR1 $KITTY_PID
# Config-UI   : Cmd+, (√∂ffnet diese Datei im Editor)
# ============================================================

# ============================================================
# INCLUDES
# ============================================================
# Theme: Catppuccin Mocha (via Stow verlinkt)
# Wechsel interaktiv: kitten themes
include current-theme.conf

# ============================================================
# FONTS
# ============================================================
# Font-Auswahl interaktiv: kitten choose-fonts
# Docs: https://sw.kovidgoyal.net/kitty/conf/#fonts

font_family      MesloLGS Nerd Font Mono
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size        13.0

# Ligatures: never | cursor | always
disable_ligatures never

# RTL-Text erlauben (f√ºr BIDI mit GNU FriBidi)
force_ltr no

# Box-Drawing Linienbreiten (thin, normal, thick, very thick)
box_drawing_scale 0.001, 1, 1.5, 2

# Undercurl-Style: thin-sparse | thin-dense | thick-sparse | thick-dense
undercurl_style thin-sparse

# Text-Rendering: platform | legacy | <gamma> <contrast>
text_composition_strategy platform

# ============================================================
# CURSOR
# ============================================================
# Docs: https://sw.kovidgoyal.net/kitty/conf/#text-cursor-customization

# Form: block | beam | underline
cursor_shape beam

# Form bei unfokussiertem Fenster: block | beam | underline | hollow | unchanged
cursor_shape_unfocused hollow

# Beam-Dicke (in pts)
cursor_beam_thickness 1.5

# Underline-Dicke (in pts)
cursor_underline_thickness 2.0

# Blink-Intervall (Sekunden, 0 = aus, negativ = System-Default)
cursor_blink_interval 0.5

# Blink stoppen nach X Sekunden Inaktivit√§t (0 = nie)
cursor_stop_blinking_after 15.0

# ============================================================
# SCROLLBACK
# ============================================================
# Docs: https://sw.kovidgoyal.net/kitty/conf/#scrollback

# Zeilen im Speicher (negativ = unbegrenzt, nicht empfohlen)
scrollback_lines 10000

# Pager f√ºr Scrollback (Ctrl+Shift+H)
scrollback_pager less --chop-long-lines --RAW-CONTROL-CHARS +INPUT_LINE_NUMBER

# Zus√§tzlicher Pager-History-Speicher (MB, 0 = aus)
scrollback_pager_history_size 0

# Scrollback beim Vergr√∂√üern des Fensters auff√ºllen
scrollback_fill_enlarged_window no

# Mausrad-Multiplikator (negativ = Richtung umkehren)
wheel_scroll_multiplier 5.0

# Minimum Zeilen pro Mausrad-Schritt
wheel_scroll_min_lines 1

# Touchpad-Multiplikator
touch_scroll_multiplier 1.0

# ============================================================
# MOUSE
# ============================================================
# Docs: https://sw.kovidgoyal.net/kitty/conf/#mouse

# Maus verstecken nach X Sekunden (0 = nie, negativ = beim Tippen)
mouse_hide_wait 3.0

# URL-Erkennung
detect_urls yes
url_style curly
open_url_with default
url_prefixes file ftp ftps gemini git gopher http https irc ircs kitty mailto news sftp ssh

# Hyperlinks unterstreichen: hover | always | never
underline_hyperlinks hover

# Hyperlink-Ziel beim Hover anzeigen
show_hyperlink_targets no

# Auswahl in Zwischenablage kopieren: no | clipboard | a1 (privater Buffer)
copy_on_select no

# Leerzeichen am Zeilenende beim Kopieren entfernen: never | smart | always
strip_trailing_spaces never

# Wort-Zeichen f√ºr Doppelklick-Auswahl
select_by_word_characters @-./_~?&=%+#

# Klick-Intervall f√ºr Doppel-/Dreifachklick (Sekunden, negativ = System-Default)
click_interval -1.0

# Fokus folgt Maus
focus_follows_mouse no

# Mauszeiger-Form wenn Programm Maus nutzt
pointer_shape_when_grabbed arrow

# Standard-Mauszeiger-Form
default_pointer_shape beam

# Mauszeiger beim Ziehen
pointer_shape_when_dragging beam

# ============================================================
# PERFORMANCE
# ============================================================
# Docs: https://sw.kovidgoyal.net/kitty/conf/#performance-tuning

# Verz√∂gerung zwischen Screen-Updates (ms, niedriger = mehr FPS, mehr CPU)
repaint_delay 10

# Input-Verz√∂gerung (ms)
input_delay 3

# VSync f√ºr fl√ºssiges Scrolling
sync_to_monitor yes

# ============================================================
# TERMINAL BELL
# ============================================================
# Docs: https://sw.kovidgoyal.net/kitty/conf/#terminal-bell

# Audio-Bell (Hyprland Bug: https://github.com/hyprwm/Hyprland/issues/10488)
enable_audio_bell no

# Visueller Bell (Sekunden, 0 = aus)
visual_bell_duration 0
visual_bell_color none

# Fenster-Aufmerksamkeit bei Bell (Dock bounce / Taskbar flash)
window_alert_on_bell yes

# Tab-Badge bei Bell
bell_on_tab "üîî "

# Befehl bei Bell ausf√ºhren
command_on_bell none

# Eigener Bell-Sound (none = System-Default)
bell_path none

# ============================================================
# WINDOW LAYOUT
# ============================================================
# Docs: https://sw.kovidgoyal.net/kitty/conf/#window-layout

# Fenstergr√∂√üe merken
remember_window_size no
initial_window_width  120c
initial_window_height 30c

# Fensterposition merken (funktioniert nicht auf Wayland)
remember_window_position no

# Aktive Layouts (* = alle)
enabled_layouts *

# Fenster-Padding (pts)
window_padding_width 8

# Padding bei einzelnem Fenster (-1 = wie window_padding_width)
single_window_padding_width -1

# Text-Platzierung: center | top-left | top | ...
placement_strategy center

# Fensterrahmen ausblenden: no | yes | titlebar-only | titlebar-and-corners
hide_window_decorations no

# Gr√∂√üen√§nderung in Zellschritten
resize_in_steps no

# Best√§tigung beim Schlie√üen (-1 = nur bei laufenden Prozessen, Shell-Prompts ignoriert)
confirm_os_window_close -1

# ============================================================
# TAB BAR
# ============================================================
# Docs: https://sw.kovidgoyal.net/kitty/conf/#tab-bar

# Position: top | bottom
tab_bar_edge bottom

# Style: fade | slant | separator | powerline | custom | hidden
tab_bar_style powerline

# Powerline-Style: angled | slanted | round
tab_powerline_style slanted

# Ausrichtung: left | center | right
tab_bar_align left

# Minimum Tabs f√ºr Tab-Bar
tab_bar_min_tabs 2

# Tab-Wechsel-Strategie: previous | left | right | last
tab_switch_strategy previous

# Tab-Titel-Template
tab_title_template "{index}: {title}"

# Max. Titel-L√§nge (0 = unbegrenzt)
tab_title_max_length 0

# Aktivit√§ts-Symbol f√ºr unfokussierte Tabs
tab_activity_symbol none

# ============================================================
# ADVANCED
# ============================================================
# Docs: https://sw.kovidgoyal.net/kitty/conf/#advanced

# Shell (. = $SHELL oder System-Default)
shell .

# Editor (. = $VISUAL, $EDITOR oder vim/nano)
editor .

# Fenster schlie√üen, wenn Child-Prozess beendet wird
close_on_child_death no

# Remote Control: no | password | socket-only | socket | yes
allow_remote_control no

# Shell-Integration: enabled | disabled | no-rc | no-cursor | ...
# Features bei enabled:
#   - Ctrl+Shift+Z/X: Zwischen Prompts springen
#   - Ctrl+Shift+G: Letzten Command-Output im Pager
#   - Klick in Prompt verschiebt Cursor
#   - CWD im Tab-Titel
shell_integration enabled

# Update-Check-Intervall (Stunden, 0 = aus)
update_check_interval 24

# Zwischenablage-Kontrolle
clipboard_control write-clipboard write-primary read-clipboard-ask read-primary-ask
clipboard_max_size 512

# Hyperlinks erlauben
allow_hyperlinks yes

# TERM-Variable
term xterm-kitty

# ============================================================
# OS-SPECIFIC: macOS
# ============================================================
# Docs: https://sw.kovidgoyal.net/kitty/conf/#os-specific-tweaks

# Titlebar-Farbe: system | background | light | dark | #rrggbb
# Hinweis: √Ñnderung erfordert Kitty-Neustart (Config-Reload reicht nicht)
# Rationale: system (statt background) f√ºr bessere Integration mit macOS Dark/Light Mode
macos_titlebar_color system

# Option-Taste als Alt: no | left | right | both | yes
macos_option_as_alt yes

# In Cmd+Tab und Dock verstecken
macos_hide_from_tasks no

# Beenden wenn letztes Fenster geschlossen
macos_quit_when_last_window_closed yes

# Fenster in der Gr√∂√üe ver√§nderbar
macos_window_resizable yes

# Schneller Fullscreen (ohne Animation)
macos_traditional_fullscreen no

# Titel anzeigen: window | menubar | all | none
macos_show_window_title_in all

# Max. Titel-L√§nge in Menubar (0 = unbegrenzt)
macos_menubar_title_max_length 0

# Custom Beam-Cursor (kann auf Dual-GPU Macs unsichtbar sein)
macos_custom_beam_cursor no

# Farbraum: srgb | default | displayp3
macos_colorspace srgb

# ============================================================
# OS-SPECIFIC: Linux
# ============================================================

# Titlebar-Farbe (Wayland mit CSD): system | background | #rrggbb
wayland_titlebar_color system

# Display-Server: auto | wayland | x11
linux_display_server auto

# Input Method Extension (f√ºr CJK)
wayland_enable_ime yes

# XDG Sound Theme f√ºr Bell (nur relevant wenn enable_audio_bell yes)
linux_bell_theme __custom

# ============================================================
# KEYBOARD SHORTCUTS
# ============================================================
# Docs: https://sw.kovidgoyal.net/kitty/conf/#keyboard-shortcuts
# Alle Actions: https://sw.kovidgoyal.net/kitty/actions/
#
# Kitty-Modifier: Ctrl+Shift (Standard)
# macOS nutzt zus√§tzlich Cmd-Kombinationen
#
# Wichtige Defaults:
#   Cmd+T / Ctrl+Shift+T     Neuer Tab
#   Cmd+W / Ctrl+Shift+W     Tab/Fenster schlie√üen
#   Cmd+Enter                Neues Fenster (Split)
#   Cmd+1-9                  Tab 1-9 wechseln
#   Cmd+,                    Config editieren
#   Ctrl+Shift+H             Scrollback im Pager
#   Ctrl+Shift+G             Letzten Command-Output im Pager
#   Ctrl+Shift+Z             Zum vorherigen Prompt springen
#   Ctrl+Shift+X             Zum n√§chsten Prompt springen
#   Ctrl+Shift+E             URL √∂ffnen (Hints)
#   Ctrl+Shift+F5            Config neu laden

# Config neu laden (zus√§tzlich zu Ctrl+Shift+F5)
map cmd+shift+r load_config_file

# ============================================================
# ICON
# ============================================================
# Docs: https://sw.kovidgoyal.net/kitty/faq/#i-do-not-like-the-kitty-icon
# Quelle: https://github.com/pankrashin/dotfiles/blob/main/kitty/.config/kitty/kitty.app.png
#
# Beschreibung:
# Override des Standard-Kitty-Icons. Lege die PNG-Datei unter
# ~/.config/kitty/kitty.app.png ab (z. B. durch Stow aus diesem Repo),
# oder passe den Pfad unten an. Kitty erweitert '~' beim Laden der
# Konfiguration, daher ist der Home-Relative Pfad praktikabel.
#
# Setzen des Icons (Pfad relativ zu $HOME wird expandiert):
window_icon ~/.config/kitty/kitty.app.png
