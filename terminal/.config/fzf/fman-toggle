#!/usr/bin/env zsh
# ============================================================
# fman-toggle - Toggle-Logik für fman Ctrl+S
# ============================================================
# Zweck   : Gibt fzf-Aktionen für Modus-Wechsel aus
# Nutzung : fman-toggle (liest FZF_PROMPT aus Umgebung)
# ============================================================

local fzf_dir="${XDG_CONFIG_HOME:-$HOME/.config}/fzf"

# Query bleibt automatisch erhalten, first springt zum ersten Match
if [[ "$FZF_PROMPT" == "man> " ]]; then
    echo "reload($fzf_dir/fman-list tldr)+change-prompt(tldr> )+change-preview($fzf_dir/fman-preview tldr {})+first"
else
    echo "reload($fzf_dir/fman-list man)+change-prompt(man> )+change-preview($fzf_dir/fman-preview man {})+first"
fi
